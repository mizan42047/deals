(window.CTIWidgetClientJsonp=window.CTIWidgetClientJsonp||[]).push([[3],{tcLu:function(e,t,n){"use strict";function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var a in t)if("__source"!==a&&e[a]!==t[a])return!0;return!1}function r(e,t){this.props=e,this.context=t}function o(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:a(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Object(b.createElement)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}function i(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=function(e,t){for(var n in t)e[n]=t[n];return e}({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return i(e,t,n)}))),e}function l(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return l(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function s(){this.__u=0,this.t=null,this.__b=null}function c(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function u(){this.u=null,this.o=null}function p(){}function d(){return this.cancelBubble}function _(){return this.defaultPrevented}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"default",(function(){return me}));var b=n("NMMh"),v=n("uOFG");(r.prototype=new b.Component).isPureReactComponent=!0,r.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)};var g=b.options.__b;b.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),g&&g(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var y=b.options.__e;b.options.__e=function(e,t,n,a){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);y(e,t,n,a)};var O=b.options.unmount;b.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),O&&O(e)},(s.prototype=new b.Component).__c=function(e,t){var n=t.__c,a=this;null==a.t&&(a.t=[]),a.t.push(n);var r=c(a.__v),o=!1,i=function(){o||(o=!0,n.__R=null,r?r(s):s())};n.__R=i;var s=function(){if(! --a.__u){if(a.state.__a){var e=a.state.__a;a.__v.__k[0]=l(e,e.__c.__P,e.__c.__O)}var t;for(a.setState({__a:a.__b=null});t=a.t.pop();)t.forceUpdate()}};a.__u++||32&t.__u||a.setState({__a:a.__b=a.__v.__k[0]}),e.then(i,i)},s.prototype.componentWillUnmount=function(){this.t=[]},s.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=i(this.__b,n,a.__O=a.__P)}this.__b=null}var r=t.__a&&Object(b.createElement)(b.Fragment,null,e.fallback);return r&&(r.__u&=-33),[Object(b.createElement)(b.Fragment,null,t.__a?null:e.children),r]};var w=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(u.prototype=new b.Component).__a=function(e){var t=this,n=c(t.__v),a=t.o.get(e);return a[0]++,function(r){var o=function(){t.props.revealOrder?(a.push(r),w(t,e,a)):r()};n?n(o):o()}},u.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(b.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},u.prototype.componentDidUpdate=u.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){w(e,n,t)}))};var j="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,C=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,N=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,k=/[A-Z0-9]/g,T="undefined"!=typeof document,E=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};b.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(b.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var I=b.options.event;b.options.event=function(e){return I&&(e=I(e)),e.persist=p,e.isPropagationStopped=d,e.isDefaultPrevented=_,e.nativeEvent=e};var S={enumerable:!1,configurable:!0,get:function(){return this.class}},P=b.options.vnode;b.options.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,a={},r=-1===n.indexOf("-");for(var o in t){var i=t[o];if(!("value"===o&&"defaultValue"in t&&null==i||T&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var l=o.toLowerCase();"defaultValue"===o&&"value"in t&&null==t.value?o="value":"download"===o&&!0===i?i="":"translate"===l&&"no"===i?i=!1:"o"===l[0]&&"n"===l[1]?"ondoubleclick"===l?o="ondblclick":"onchange"!==l||"input"!==n&&"textarea"!==n||E(t.type)?"onfocus"===l?o="onfocusin":"onblur"===l?o="onfocusout":N.test(o)&&(o=l):l=o="oninput":r&&C.test(o)?o=o.replace(k,"-$&").toLowerCase():null===i&&(i=void 0),"oninput"===l&&a[o=l]&&(o="oninputCapture"),a[o]=i}}"select"==n&&a.multiple&&Array.isArray(a.value)&&(a.value=Object(b.toChildArray)(t.children).forEach((function(e){e.props.selected=-1!=a.value.indexOf(e.props.value)}))),"select"==n&&null!=a.defaultValue&&(a.value=Object(b.toChildArray)(t.children).forEach((function(e){e.props.selected=a.multiple?-1!=a.defaultValue.indexOf(e.props.value):a.defaultValue==e.props.value}))),t.class&&!t.className?(a.class=t.class,Object.defineProperty(a,"className",S)):(t.className&&!t.class||t.class&&t.className)&&(a.class=a.className=t.className),e.props=a}(e),e.$$typeof=j,P&&P(e)};var A=b.options.__r;b.options.__r=function(e){A&&A(e)};var H=b.options.diffed;b.options.diffed=function(e){H&&H(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value)};var M=n("ELK/"),x=n("+bYO"),L=n("kHnG"),$=n("GXPF"),R=n("nSQ1"),W="_8uj12gme",D="_7hasdr4a",F="_4n7addmz",U="_4jjv35gv",z="_4drhx76a",V="_6kxvpfh1",G="_2ja42y42",B="_4g811u4q",Z="_5xbfshzc",q="wwrck9e8",K="_41hj3sz5",X="_4a8u1p7f",J="_2ga5bqnq",Q="_3wa51d2r",Y="_5pcf8vbz",ee="_7nt4vh8z",te="_4gmavcgx",ne="_7tpx85r1",ae="_64u3gajm",re="_64stwkr6",oe="a4mncydu";const ie={[M.a.WhatsApp]:e=>`https://wa.me/${e}`,[M.a.Facebook]:e=>`https://m.me/${e}`,[M.a.Instagram]:e=>`https://www.instagram.com/${e}`,[M.a.Zalo]:e=>`https://zalo.me/${e}`},le={[M.a.WhatsApp]:R.d,[M.a.Facebook]:R.c,[M.a.Instagram]:R.b,[M.a.Zalo]:R.e},se=o((e=>{let{link:t}=e;const n=ie[t.type],a=le[t.type];return n&&a?Object(b.h)("a",{className:Y,href:n(t.payload),target:"_blank",rel:"noopener noreferrer","aria-label":t.type},Object(b.h)("div",{className:ee},a)):null})),ce=o((e=>{let{launcherType:t,color:n,clickHandlerCollapse:a}=e;const r=Object(v.j)(!1),o=Object(v.j)(null),i=Object(v.a)((e=>{e.stopPropagation(),o.current&&(r.current||(r.current=!0,o.current.classList.remove(ne),o.current.classList.add(ae)))}),[]),l=Object(v.a)((()=>{o.current&&r.current&&(o.current.classList.remove(ae),r.current=!1,a())}),[a]),s=n?{outline:`2px solid ${n}`,outlineOffset:"-2px",backgroundColor:"#FFF"}:{},c=t===M.c.ICON?V:U;return Object(b.h)("div",{onClick:i,className:F},Object(b.h)("div",{ref:o,className:`${c} ${te} ${ne}`,style:s,onAnimationEnd:l},Object(b.h)(R.a,{color:n})))})),ue=o((e=>{let{links:t,clickHandlerCollapse:n,launcherType:a,primaryColor:r,launcherElement:o}=e;const i=Object(v.h)((()=>(e=>e.slice().filter((e=>e.payload)).sort(((e,t)=>e.order-t.order)))(t)),[t]),l=Object(v.h)((()=>n&&a&&r?Object(b.h)(ce,{launcherType:a,color:r,clickHandlerCollapse:n}):null),[n,a,r]);return Object(b.h)("div",{className:Q},i.map((e=>Object(b.h)(se,{key:`${e.type}-${e.order}`,link:e}))),o,l)}));var pe=n("Ii4m");const de=o((e=>{let{background:t}=e;return Object(b.h)("div",{className:G,style:t},Object(b.h)("div",{className:Z},Object(b.h)("div",{className:q},Object(b.h)("span",{className:K}),Object(b.h)("span",{className:K}),Object(b.h)("span",{className:K}))))})),_e=o((e=>{let{background:t,launcher:n}=e;const{icon:a,type:r,text:o}=n;switch(r){case M.c.TEXT:return Object(b.h)("div",{className:U,style:t},o);case M.c.TEXT_AND_ICON:return Object(b.h)("div",{className:z,style:t},Object(b.h)("img",{className:X,draggable:!1,alt:"Launcher icon",src:a}),Object(b.h)("span",{className:J},o));default:return Object(b.h)("div",{className:V,style:t},Object(b.h)("img",{style:"height: 40px !important; width: 40px !important; object-fit: cover;",alt:"Launcher icon",draggable:!1,src:a,className:X}))}})),he=o((e=>{let{background:t,dotEnabled:n,unread:a,clickHandler:r,launcher:o,className:i}=e;return Object(b.h)("div",{onClick:r,className:`${F} ${i}`},Object(b.h)(_e,{background:t,launcher:o}),Object(b.h)(de,{background:t}),n&&Object(b.h)("span",{className:D},(l=a)>9?"9+":l.toString()));var l})),fe=o((e=>{let{className:t,style:n,background:a,dotEnabled:r,unread:o,primaryColor:i,contactHub:l,onShowChat:s,onToggleContactHub:c}=e;const u=x.b.value,p=x.a.value,d=Object(b.h)(he,{background:a,dotEnabled:r,unread:o,clickHandler:s,launcher:f(f({},x.f.value),{},{type:M.c.ICON}),className:Y});return u===M.b.Expanded?Object(b.h)("div",{className:t,style:n},Object(b.h)(ue,{links:l.links,launcherElement:d,launcherType:x.f.value.type,primaryColor:i})):u===M.b.Collapsed?Object(b.h)("div",{className:t,style:n},p?Object(b.h)(ue,{links:l.links,clickHandlerCollapse:c,launcherType:x.f.value.type,primaryColor:i,launcherElement:d}):Object(b.h)(he,{background:a,dotEnabled:r,unread:o,clickHandler:c,launcher:x.f.value})):null}));class me extends b.Component{constructor(){var e;super(...arguments),e=this,m(this,"windowTitleOriginal",window.document.title),m(this,"windowTitleInterval",0),m(this,"textNotify",this.translateNotify()),m(this,"unreadMessageIds",new Set),m(this,"animationTimeout",0),m(this,"cleanup",(()=>{this.resetTitle(),clearTimeout(+this.animationTimeout)})),m(this,"calculatePositionStyle",(e=>{if(!e.enabledCustomMargin)return{};const t={bottom:e.marginBottom,right:e.margin};return"left"===e.alignment&&(t.left=e.margin),t})),m(this,"buildClassName",((e,t,n)=>[W,"left"===e&&re,t&&B,n===$.a.RTL&&oe].filter(Boolean).join(" "))),m(this,"renderContactHub",(e=>{let{className:t,style:n,background:a,dotEnabled:r,unread:o,primaryColor:i,contactHub:l}=e;return Object(b.h)(fe,{className:t,style:n,background:a,dotEnabled:r,unread:o,primaryColor:i,contactHub:l,onShowChat:this.handleShowChat,onToggleContactHub:this.handleToggleContactHub})})),m(this,"getDefaultTranslation",(()=>({translation:{newMessage:"%number New Message",newMessages:"%number New Messages"}}))),m(this,"handleShowChat",(()=>{const{onClick:e}=this.props;e&&e(),this.setState({unread:0},this.updateTitleNewMessage),this.setActiveState()})),m(this,"closeGreeting",(()=>{pe.c.value===pe.a.GREETING&&(pe.b.setIsActive(!1),pe.b.setComponentType(pe.a.LIVE_CHAT),this.props.frameWindow&&this.props.frameWindow.openFrame())})),m(this,"handleToggleContactHub",(()=>{this.closeGreeting(),x.e.setContactHubActive(!x.a.value)})),m(this,"setActiveState",(()=>{clearTimeout(+this.animationTimeout),this.setState({isActive:!0}),this.animationTimeout=setTimeout((()=>{this.setState({isActive:!1})}),me.ANIMATION_TIME)})),m(this,"handleNewMessages",(function(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((t,n)=>n.id&&!e.unreadMessageIds.has(n.id)?(e.unreadMessageIds.add(n.id),t+1):t),0);if(t>0){const{unread:n=0}=e.state;e.setState({unread:n+t},e.updateTitleNewMessage)}})),m(this,"updateTitleNewMessage",(()=>{const e=L.c.value&&L.c.value.notificationConfig;if(!e||!e.browserTitle)return;clearInterval(+this.windowTitleInterval);const{unread:t=0}=this.state;if(!t)return void(window.document.title=this.windowTitleOriginal);const n=this.getNotificationMessage(t);let a=!1;this.windowTitleInterval=setInterval((()=>{window.document.title=a?n:this.windowTitleOriginal,a=!a}),me.TITLE_BLINK_INTERVAL)})),m(this,"getNotificationMessage",(e=>{const{translation:t}=this.textNotify;return(e>1?t.newMessages:t.newMessage).replace("%number",e.toString())})),m(this,"resetTitle",(()=>{clearInterval(+this.windowTitleInterval),window.document.title=this.windowTitleOriginal}))}componentWillReceiveProps(e){const{frameNotify:t}=e;x.g.value&&t&&t.messages&&this.handleNewMessages(t.messages)}componentWillUnmount(){this.cleanup()}componentDidUpdate(){x.b.value!==M.b.Expanded||x.a.value||x.e.setContactHubActive(!0)}render(){const e=L.c.value;if(!e||!x.d.value)return null;const{position:t,notificationConfig:n,language:a,primaryColor:r,secondaryColor:o,contactHub:i}=e,{unread:l=0,isActive:s=!1}=this.state,c=this.calculatePositionStyle(t),u=this.buildClassName(t.alignment,s,a&&a.textDirection),p=(e=>{if(e&&e.primaryColor&&e.secondaryColor)return{background:`linear-gradient(135deg, ${e.primaryColor}, ${e.secondaryColor})`}})({primaryColor:r,secondaryColor:o}),d=!!n.dot&&l>0;return x.c.value&&i?this.renderContactHub({className:u,style:c,background:p,dotEnabled:d,unread:l,primaryColor:r,contactHub:i}):Object(b.h)("div",{className:u,style:c},Object(b.h)(he,{background:p,dotEnabled:d,unread:l,clickHandler:this.handleShowChat,launcher:e.launcher}))}translateNotify(){const e=(e=>["zh-CN","zh-TW"].includes(e)?e:"fil"===e?"fl":e.slice(0,2))(window.navigator.language);return $.b[e]||this.getDefaultTranslation()}}m(me,"ANIMATION_TIME",500),m(me,"TITLE_BLINK_INTERVAL",2e3)}}]);